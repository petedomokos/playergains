module.exports=function(e){var r={};function t(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)t.d(o,a,function(r){return e[r]}.bind(null,a));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/dist/",t(t.s=35)}([function(e,r){e.exports=require("mongoose")},function(e,r,t){"use strict";(function(e){var t;(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o=e=>{let r;try{let t=e.message.substring(e.message.lastIndexOf(".$")+2,e.message.lastIndexOf("_1"));r=t.charAt(0).toUpperCase()+t.slice(1)+" already exists"}catch(e){r="Unique field already exists"}return r},a=e=>{let r="";if(e.code)switch(e.code){case 11e3:case 11001:r=o(e);break;default:r="Something went wrong"}else for(let t in e.errors)e.errors[t].message&&(r=e.errors[t].message);return r},s={getErrorMessage:a};var n,l;r.a=s,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(o,"getUniqueErrorMessage","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\helpers\\dbErrorHandler.js"),n.register(a,"getErrorMessage","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\helpers\\dbErrorHandler.js"),n.register(s,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\helpers\\dbErrorHandler.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,t(3)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(6),s=t(27),n=t.n(s),l=t(28),d=t.n(l),i=t(5);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=async(e,r)=>{console.log("signin......",e.body);try{let t=await a.a.findOne({email:e.body.email}).populate("admin","_id username firstname surname created").populate("administeredUsers","_id username firstname surname photo created").populate({path:"administeredGroups",select:"_id name desc photo groupType created datasets",populate:{path:"datasets",select:"_id name desc"}}).populate({path:"groupsMemberOf",select:"_id name desc photo groupType created datasets",populate:{path:"datasets",select:"_id name desc"}}).populate("administeredDatasets","_id name desc created").populate("datasetsMemberOf","_id name desc created");if(console.log("signin......a"),!t)return console.log("signin......b"),r.status("401").json({error:"User not found"});if(!t.authenticate(e.body.password))return console.log("signin......c"),r.status("401").send({error:"Email and password don't match."});const o=n.a.sign({_id:t._id},i.a.jwtSecret);return r.cookie("t",o,{expire:new Date+9999}),console.log("signin......d"),r.json({token:o,user:t})}catch(e){return r.status("401").json({error:"Could not sign in"})}},u=(e,r)=>(r.clearCookie("t"),r.status("200").json({message:"signed out"})),p=d()({secret:i.a.jwtSecret,userProperty:"auth"}),f=(e,r,t)=>{const o=e.profile&&e.auth&&(e.profile._id==e.auth._id||e.profile.admin.includes(e.auth._id)||e.profile.admin.map(e=>e._id).includes(e.auth._id)||e.auth.isSystemAdmin);if(console.log("authorized???????? ",o),!o)return r.status("403").json({error:"User is not authorized"});t()},g={signin:c,signout:u,requireSignin:p,hasAuthorization:f};var y,m;r.a=g,(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(c,"signin","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\auth.controller.js"),y.register(u,"signout","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\auth.controller.js"),y.register(p,"requireSignin","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\auth.controller.js"),y.register(f,"hasAuthorization","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\auth.controller.js"),y.register(g,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\auth.controller.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)}).call(this,t(3)(e))},function(e,r){e.exports=function(e){if(!e.webpackPolyfill){var r=Object.create(e);r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),Object.defineProperty(r,"exports",{enumerable:!0}),r.webpackPolyfill=1}return r}},function(e,r){e.exports=require("express")},function(e,r,t){"use strict";(function(e){var t;(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o={env:"production",port:process.env.PORT||3e3,jwtSecret:process.env.JWT_SECRET||"YOUR_secret_key",mongoUri:process.env.MONGODB_URI||process.env.MONGO_HOST||"mongodb+srv://peterdomokos:3Millbrook@switchplaycluster.l5lum.mongodb.net/switchplay_db?retryWrites=true&w=majority"},a=o;var s,n;r.a=a,(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(o,"config","C:\\Users\\peted\\Documents\\projects\\playergains\\config\\config.js"),s.register(a,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\config\\config.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,t(3)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(0),s=t.n(a),n=t(26),l=t.n(n);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=new s.a.Schema({username:{type:String,trim:!0,required:"Username is required"},firstname:{type:String,trim:!0,required:"First name is required"},surname:{type:String,trim:!0,required:"Surname is required"},initials:{type:String,trim:!0,required:"User initials are required"},photo:{data:Buffer,contentType:String},email:{type:String,trim:!0,unique:"Email already exists",match:[/.+\@.+\..+/,"Please fill a valid email address"],required:"Email is required"},isPlayer:{type:Boolean,default:!0},isCoach:{type:Boolean,default:!0},admin:[{type:s.a.Schema.ObjectId,ref:"User"}],administeredUsers:[{type:s.a.Schema.ObjectId,ref:"User"}],administeredGroups:[{type:s.a.Schema.ObjectId,ref:"Group"}],administeredDatasets:[{type:s.a.Schema.ObjectId,ref:"Dataset"}],groupsMemberOf:[{type:s.a.Schema.ObjectId,ref:"Group"}],datasetsMemberOf:[{type:s.a.Schema.ObjectId,ref:"Dataset"}],isSystemAdmin:{type:Boolean,default:!1},hashed_password:{type:String,required:"Password is required"},salt:String,updated:Date,created:{type:Date,default:Date.now}});d.virtual("password").set((function(e){this._password=e,this.salt=this.makeSalt(),this.hashed_password=this.encryptPassword(e)})).get((function(){return this._password})),d.path("hashed_password").validate((function(e){this._password&&this._password.length<6&&this.invalidate("password","Password must be at least 6 characters."),this.isNew&&!this._password&&this.invalidate("password","Password is required")}),null),d.methods={authenticate:function(e){return this.encryptPassword(e)===this.hashed_password},encryptPassword:function(e){if(!e)return"";try{return l.a.createHmac("sha1",this.salt).update(e).digest("hex")}catch(e){return""}},makeSalt:function(){return Math.round((new Date).valueOf()*Math.random())+""}};const i=s.a.model("User",d);var c,u;r.a=i,(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(d,"UserSchema","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\models\\user.model.js"),c.register(i,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\models\\user.model.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,t(3)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(0),s=t.n(a);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=new s.a.Schema({name:{type:String,trim:!0,required:"Group name is required"},initials:{type:String,trim:!0,required:"Group initials are required"},desc:String,groupType:String,photo:{data:Buffer,contentType:String},admin:[{type:s.a.Schema.ObjectId,ref:"User"}],coaches:[{type:s.a.Schema.ObjectId,ref:"User"}],players:[{type:s.a.Schema.ObjectId,ref:"User"}],datasets:[{type:s.a.Schema.ObjectId,ref:"Dataset"}],updated:Date,created:{type:Date,default:Date.now}}),l=s.a.model("Group",n);var d,i;r.a=l,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(n,"GroupSchema","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\models\\group.model.js"),d.register(l,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\models\\group.model.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,t(3)(e))},function(e,r){e.exports=require("formidable")},function(e,r,t){"use strict";(function(e){var o,a=t(6),s=t(12),n=t.n(s),l=t(1),d=t(8),i=t.n(d);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=async(e,r)=>{console.log("create user...body",e.body);const t=new a.a(e.body);console.log("created",t);try{return console.log("trying"),await t.save(),console.log("success"),r.status(200).json({mesg:"Successfully signed up!",user:t})}catch(e){return console.log("failure",e),r.status(400).json({error:l.a.getErrorMessage(e)})}},u=async(e,r,t,o)=>{console.log("readuserById......",o);try{let s=await a.a.findById(o).populate("admin","_id username firstname surname created").populate("administeredUsers","_id username firstname surname photo created").populate({path:"administeredGroups",select:"_id name desc photo groupType created datasets",populate:{path:"datasets",select:"_id name desc"}}).populate({path:"groupsMemberOf",select:"_id name desc photo groupType created datasets",populate:{path:"datasets",select:"_id name desc"}}).populate("administeredDatasets","_id name desc created").populate("datasetsMemberOf","_id name desc created");if(console.log("user in userById",s),!s)return r.status("400").json({error:"User not found"});e.profile=s,t()}catch(e){return r.status("400").json({error:"Could not retrieve user"})}},p=(e,r)=>(console.log("read......"),e.profile.hashed_password=void 0,e.profile.salt=void 0,r.json(e.profile)),f=async(e,r)=>{try{let e=await a.a.find().select("username firstname surname photo email updated created admin").populate("admin","_id username firstname surname created");console.log("returning users now......................."),r.json(e)}catch(e){return console.log("error listing users......................."),r.status(400).json({error:l.a.getErrorMessage(e)})}},g=async(e,r)=>{console.log("updating user....................");let t=new i.a.IncomingForm;t.keepExtensions=!0,t.parse(e,async(t,o,a)=>{if(t)return r.status(400).json({error:"Photo could not be uploaded"});let s=e.profile;s=n()(s,o),s.updated=Date.now(),console.log("user now",s),a.photo&&(s.photo.data=fs.readFileSync(a.photo.path),s.photo.contentType=a.photo.type);try{await s.save(),s.hashed_password=void 0,s.salt=void 0,r.json(s)}catch(t){return r.status(400).json({error:l.a.getErrorMessage(t)})}})},y=async(e,r)=>{console.log("remove user..............");try{let t=e.profile,o=await t.remove();o.hashed_password=void 0,o.salt=void 0,r.json(o)}catch(e){return r.status(400).json({error:l.a.getErrorMessage(e)})}},m={create:c,userByID:u,read:p,list:f,remove:y,update:g};var b,v;r.a=m,(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(c,"create","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\user.controller.js"),b.register(u,"userByID","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\user.controller.js"),b.register(p,"read","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\user.controller.js"),b.register(f,"list","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\user.controller.js"),b.register(g,"update","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\user.controller.js"),b.register(y,"remove","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\user.controller.js"),b.register(m,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\user.controller.js")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)}).call(this,t(3)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(7),s=t(12),n=t.n(s),l=t(1),d=t(8),i=t.n(d),c=t(13);t(39);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const u=async(e,r)=>{console.log("createGroup");const t=new a.a(e.body);console.log("creating group",t);try{return await t.save(),console.log("success"),t.admin.forEach(e=>{Object(c.a)(e,"administeredGroups",t._id)}),r.status(200).json({message:"Successfully created group!",group:t})}catch(e){return console.log("failure",e),r.status(400).json({error:l.a.getErrorMessage(e)})}},p=async(e,r,t,o)=>{console.log("readgroupById......",o);try{let s=await a.a.findById(o).populate("admin","_id username firstname surname photo").populate("players","_id username firstname surname photo").populate("datasets","_id name desc photo");if(console.log("group",s),!s)return r.status("400").json({error:"Group not found"});e.group=s,t()}catch(e){return r.status("400").json({error:"Could not retrieve group"})}},f=(e,r)=>(console.log("read group......"),r.json(e.group)),g=async(e,r)=>{try{let e=await a.a.find().select("_id name desc photo groupType admin created").populate("admin","_id username firstname surname created");console.log("returning groups now......................."),r.json(e)}catch(e){return console.log("error listing groups......................."),r.status(400).json({error:l.a.getErrorMessage(e)})}},y=async(e,r)=>{console.log("updating group....................");let t=new i.a.IncomingForm;t.keepExtensions=!0,t.parse(e,async(t,o,a)=>{if(console.log("fields",o),t)return r.status(400).json({error:"Photo could not be uploaded"});"string"==typeof o.players&&(o.players=""===o.players?[]:o.players.split(",")),"string"==typeof o.datasets&&(o.datasets=""===o.datasets?[]:o.datasets.split(",")),console.log("fields players",o.players);let s=e.group;if(console.log("group.players",s.players),o.players){const e=o.players.filter(e=>!s.players.find(r=>r.equals(e)));console.log("nr of added players",e.length),e.forEach(e=>{Object(c.a)(e,"groupsMemberOf",s._id)});const r=s.players.filter(e=>!o.players.find(r=>r.equals(e)));console.log("nr of removed players",r.length),r.forEach(e=>{Object(c.b)(e,"groupsMemberOf",s._id)})}s=n()(s,o),s.updated=Date.now(),console.log("group now.................",s),a.photo&&(s.photo.data=fs.readFileSync(a.photo.path),s.photo.contentType=a.photo.type);try{await s.save(),r.json(s)}catch(t){return r.status(400).json({error:l.a.getErrorMessage(t)})}})},m=async(e,r)=>{console.log("remove group..............");try{let t=e.group,o=await t.remove();r.json(o)}catch(e){return r.status(400).json({error:l.a.getErrorMessage(e)})}},b={create:u,groupByID:p,read:f,list:g,remove:m,update:y};var v,h;r.a=b,(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(u,"create","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\group.controller.js"),v.register(p,"groupByID","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\group.controller.js"),v.register(f,"read","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\group.controller.js"),v.register(g,"list","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\group.controller.js"),v.register(y,"update","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\group.controller.js"),v.register(m,"remove","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\group.controller.js"),v.register(b,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\group.controller.js")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)}).call(this,t(3)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(14),s=t(12),n=t.n(s),l=t(1),d=t(8),i=t.n(d),c=t(13);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const u=async(e,r)=>{console.log("createDataset----------------------------------------");const t=new a.a(e.body);console.log("creating dset",t);try{return await t.save(),console.log("success"),t.admin.forEach(e=>{Object(c.a)(e,"administeredDatasets",t._id)}),r.status(200).json({message:"Successfully created dataset!",dataset:t})}catch(e){return console.log("failure",e),r.status(400).json({error:l.a.getErrorMessage(e)})}},p=async(e,r,t,o)=>{console.log("readdatasetById......",o);try{let s=await a.a.findById(o).populate("admin","_id username firstname surname photo").populate("players","_id username firstname surname photo");if(console.log("dataset",s),!s)return r.status("400").json({error:"Dataset not found"});e.dataset=s,t()}catch(e){return r.status("400").json({error:"Could not retrieve dataset"})}},f=(e,r)=>(console.log("read dataset......"),r.json(e.dataset)),g=async(e,r)=>{try{let e=await a.a.find().select("_id name desc photo datasetType admin created").populate("admin","_id username firstname surname created");console.log("returning datasets now......................."),r.json(e)}catch(e){return console.log("error listing datasets......................."),r.status(400).json({error:l.a.getErrorMessage(e)})}},y=async(e,r)=>{console.log("updating dataset....................");let t=new i.a.IncomingForm;t.keepExtensions=!0,t.parse(e,async(t,o,a)=>{if(console.log("fields",o),t)return r.status(400).json({error:"Photo could not be uploaded"});if(""===o.players)o.players=[];else{const e=o.players.split(",");console.log("playersArray",e),o.players=e}let s=e.dataset;s=n()(s,o),s.updated=Date.now(),console.log("dataset now.................",s),a.photo&&(s.photo.data=fs.readFileSync(a.photo.path),s.photo.contentType=a.photo.type);try{await s.save(),r.json(s)}catch(t){return r.status(400).json({error:l.a.getErrorMessage(t)})}})},m=async(e,r)=>{console.log("remove dataset..............");try{let t=e.dataset,o=await t.remove();r.json(o)}catch(e){return r.status(400).json({error:l.a.getErrorMessage(e)})}},b={create:u,datasetByID:p,read:f,list:g,remove:m,update:y};var v,h;r.a=b,(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(u,"create","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\dataset.controller.js"),v.register(p,"datasetByID","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\dataset.controller.js"),v.register(f,"read","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\dataset.controller.js"),v.register(g,"list","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\dataset.controller.js"),v.register(y,"update","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\dataset.controller.js"),v.register(m,"remove","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\dataset.controller.js"),v.register(b,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\controllers\\dataset.controller.js")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)}).call(this,t(3)(e))},function(e,r){e.exports=require("lodash/extend")},function(e,r,t){"use strict";(function(e){t.d(r,"a",(function(){return l})),t.d(r,"b",(function(){return u}));t(8),t(37),t(38);var o,a=t(1),s=t(7),n=t(6);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=(e,r,t)=>{n.a.findByIdAndUpdate(e,{$push:{[r]:t}},(e,t)=>{e?console.log("ERROR: add "+r+" ref to user error:",a.a.getErrorMessage(e)):console.log("SUCCESS: added "+r+" ref to user")})},d=(e,r,t)=>{s.a.findByIdAndUpdate(e,{$push:{[r]:t}},(e,t)=>{e?console.log("ERROR: add "+r+" ref to group error:",a.a.getErrorMessage(e)):console.log("SUCCESS: added "+r+" ref to group")})},i=(e,r,t)=>{n.a.findByIdAndUpdate(e,{$set:{[r]:t}},(e,t)=>{e?console.log("ERROR: set "+r+" ref in user error:",a.a.getErrorMessage(e)):console.log("SUCCESS: set "+r+" ref in user")})},c=(e,r,t)=>{s.a.findByIdAndUpdate(e,{$set:{[r]:t}},(e,t)=>{e?console.log("ERROR: set "+r+" ref in group error:",a.a.getErrorMessage(e)):console.log("SUCCESS: set "+r+" ref in group")})},u=(e,r,t)=>{n.a.findByIdAndUpdate(e,{$pull:{[r]:t}},(e,t)=>{e?console.log("ERROR: remove "+r+" ref from user error:",a.a.getErrorMessage(e)):console.log("SUCCESS: removed "+r+" ref from user")})},p=(e,r,t)=>{s.a.findByIdAndUpdate(e,{$pull:{[r]:t}},(e,t)=>{e?console.log("ERROR: remove "+r+" ref from group error:",a.a.getErrorMessage(e)):console.log("SUCCESS: removed "+r+" ref from group")})};var f,g;(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(l,"addRefToUserArray","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\helpers\\dbQueries.js"),f.register(d,"addRefToGroupArray","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\helpers\\dbQueries.js"),f.register(i,"setRefInUser","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\helpers\\dbQueries.js"),f.register(c,"setRefInGroup","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\helpers\\dbQueries.js"),f.register(u,"removeRefFromUserArray","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\helpers\\dbQueries.js"),f.register(p,"removeRefFromGroupArray","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\helpers\\dbQueries.js")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)}).call(this,t(3)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(0),s=t.n(a);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=new s.a.Schema({name:{type:String,trim:!0,required:"Dataset name is required"},initials:{type:String,trim:!0,required:"Dataset initials is required"},desc:String,photo:{data:Buffer,contentType:String},admin:[{type:s.a.Schema.ObjectId,ref:"User"}],datapoints:[{type:s.a.Schema.ObjectId,ref:"Datapoint"}],updated:Date,created:{type:Date,default:Date.now}}),l=s.a.model("Dataset",n);var d,i;r.a=l,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(n,"DatasetSchema","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\models\\dataset.model.js"),d.register(l,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\models\\dataset.model.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,t(3)(e))},function(e,r){e.exports=require("path")},function(e,r){e.exports=require("webpack")},function(e,r){e.exports=require("body-parser")},function(e,r,t){(function(e){var r;(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o=t(15),a=t(16),s=process.cwd(),n={name:"browser",mode:"development",devtool:"eval-source-map",entry:["webpack-hot-middleware/client?reload=true",o.join(s,"client/main.js")],output:{path:o.join(s,"/dist"),filename:"bundle.js",publicPath:"/dist/"},module:{rules:[{test:/\.jsx?$/,exclude:/node_modules/,use:["babel-loader"]},{test:/\.(ttf|eot|svg|gif|jpg|png)(\?[\s\S]+)?$/,use:"file-loader"}]},plugins:[new a.HotModuleReplacementPlugin,new a.NoEmitOnErrorsPlugin],resolve:{alias:{"react-dom":"@hot-loader/react-dom"}}};var l,d;e.exports=n,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(s,"CURRENT_WORKING_DIR","C:\\Users\\peted\\Documents\\projects\\playergains\\webpack.config.client.js"),l.register(n,"config","C:\\Users\\peted\\Documents\\projects\\playergains\\webpack.config.client.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,t(40)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(4),s=t.n(a),n=t(15),l=t.n(n),d=t(17),i=t.n(d),c=t(20),u=t.n(c),p=t(21),f=t.n(p),g=t(22),y=t.n(g),m=t(23),b=t.n(m),v=t(24),h=t(25),j=t(29),G=t(30),H=t(31),L=t(32);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const U=process.cwd(),D=s()();L.a.compile(D),D.use(i.a.json()),D.use(i.a.urlencoded({extended:!0})),D.use(u()()),D.use(f()()),D.use(b()()),D.use(y()()),D.use("/dist",s.a.static(l.a.join(U,"dist"))),D.use("/",h.a),D.use("/",j.a),D.use("/",G.a),D.use("/",H.a),D.get("*",(e,r)=>{r.status(200).send(Object(v.a)())});const w=D;var S,C;r.a=w,(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(S.register(U,"CURRENT_WORKING_DIR","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\express.js"),S.register(D,"app","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\express.js"),S.register(w,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\express.js")),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&C(e)}).call(this,t(3)(e))},function(e,r){e.exports=require("cookie-parser")},function(e,r){e.exports=require("compression")},function(e,r){e.exports=require("cors")},function(e,r){e.exports=require("helmet")},function(e,r,t){"use strict";(function(e){var t;(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o=()=>'<!doctype html>\n    <html lang="en">\n      <head>\n        <meta charset="utf-8">\n        <title>Switchplay</title>\n        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400">\n        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">\n        <style>\n            a{\n              text-decoration: none;\n              color: #061d95\n            }\n        </style>\n      </head>\n      <body>\n        <div id="root"></div>\n        <script type="text/javascript" src="/dist/bundle.js"><\/script>\n      </body>\n    </html>';var a,s;r.a=o,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(o,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\template.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,t(3)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(4),s=t.n(a),n=t(9),l=t(2);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=s.a.Router();d.route("/api/users").get(n.a.list).post(n.a.create),d.route("/api/users/:userId").get(l.a.requireSignin,n.a.read).put(l.a.requireSignin,l.a.hasAuthorization,n.a.update).delete(l.a.requireSignin,l.a.hasAuthorization,n.a.remove),d.param("userId",n.a.userByID);const i=d;var c,u;r.a=i,(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(d,"router","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\routes\\user.routes.js"),c.register(i,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\routes\\user.routes.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,t(3)(e))},function(e,r){e.exports=require("crypto")},function(e,r){e.exports=require("jsonwebtoken")},function(e,r){e.exports=require("express-jwt")},function(e,r,t){"use strict";(function(e){var o,a=t(4),s=t.n(a),n=t(10),l=t(2);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=s.a.Router();d.route("/api/groups").get(n.a.list).post(n.a.create),d.route("/api/groups/:groupId").get(l.a.requireSignin,n.a.read).put(l.a.requireSignin,n.a.update).delete(l.a.requireSignin,l.a.hasAuthorization,n.a.remove),d.param("groupId",n.a.groupByID);const i=d;var c,u;r.a=i,(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(d,"router","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\routes\\group.routes.js"),c.register(i,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\routes\\group.routes.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,t(3)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(4),s=t.n(a),n=t(11),l=t(2);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=s.a.Router();d.route("/api/datasets").get(n.a.list).post(n.a.create),d.route("/api/datasets/:datasetId").get(l.a.requireSignin,n.a.read).put(l.a.requireSignin,n.a.update).delete(l.a.requireSignin,l.a.hasAuthorization,n.a.remove),d.param("datasetId",n.a.datasetByID);const i=d;var c,u;r.a=i,(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(d,"router","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\routes\\dataset.routes.js"),c.register(i,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\routes\\dataset.routes.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,t(3)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(4),s=t.n(a),n=t(2);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=s.a.Router();l.route("/auth/signin").post(n.a.signin),l.route("/auth/signout").get(n.a.signout);const d=l;var i,c;r.a=d,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(l,"router","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\routes\\auth.routes.js"),i.register(d,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\routes\\auth.routes.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,t(3)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(5),s=t(16),n=t.n(s),l=t(33),d=t.n(l),i=t(34),c=t.n(i),u=t(18),p=t.n(u);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const f=e=>{if("development"===a.a.env){const r=n()(p.a),t=d()(r,{publicPath:p.a.output.publicPath});e.use(t),e.use(c()(r))}},g={compile:f};var y,m;r.a=g,(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(f,"compile","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\devBundle.js"),y.register(g,"default","C:\\Users\\peted\\Documents\\projects\\playergains\\server\\devBundle.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)}).call(this,t(3)(e))},function(e,r){e.exports=require("webpack-dev-middleware")},function(e,r){e.exports=require("webpack-hot-middleware")},function(e,r,t){e.exports=t(36)},function(e,r,t){"use strict";t.r(r);var o=t(5),a=t(19),s=t(0),n=t.n(s);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;n.a.Promise=global.Promise,n.a.connect(o.a.mongoUri,{useNewUrlParser:!0,useCreateIndex:!0,useUnifiedTopology:!0}),n.a.connection.on("error",()=>{throw new Error("unable to connect to database: "+o.a.mongoUri)}),n.a.connection.on("open",(function(e){console.log("Connected to mongo server."),n.a.connection.db.listCollections().toArray((function(e,r){console.log(r)}))})),a.a.listen(o.a.port,e=>{e&&console.log(e),console.info("Server started on port %s.",o.a.port)})},function(e,r){e.exports=require("fs")},function(e,r){e.exports=require("lodash")},function(e,r){e.exports=require("react")},function(e,r){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}]);